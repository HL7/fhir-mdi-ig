<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="DiagnosticReport-toxicology-to-mdi"/>
    <meta>
        <versionId value="47"/>
        <lastUpdated value="2022-02-24T21:26:29.804+00:00"/>
        <source value="#jQC93xnAw8pJGsFx"/>
    </meta>
    <url value="https://fhir.org/fhir/us/mdi/StructureDefinition/DiagnosticReport-toxicology-to-mdi"/>
    <name value="DiagnosticReportToxicologyToMDI"/>
    <title value="DiagnosticReport - Toxicology Lab Result to MDI"/>
    <status value="active"/>
    <description value="This profile contains constraints to the US Core Diagnostic Report Profile to address the use case for sending data from a toxicology lab information system to an MDI case management system."/>
    <fhirVersion value="4.0.1"/>
    <kind value="resource"/>
    <abstract value="false"/>
    <type value="DiagnosticReport"/>
    <baseDefinition value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-diagnosticreport-lab"/>
    <derivation value="constraint"/>
    <differential>
        <element id="DiagnosticReport">
            <path value="DiagnosticReport"/>
        </element>
        <element id="DiagnosticReport.extension">
            <path value="DiagnosticReport.extension"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.extension:extension_tracking_number">
            <path value="DiagnosticReport.extension"/>
            <sliceName value="extension_tracking_number"/>
            <type>
                <code value="Extension"/>
                <profile value="http://hl7.org/fhir/us/mdi/StructureDefinition/Extension-tracking-number"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.extension:agency_case_history_notes">
            <path value="DiagnosticReport.extension"/>
            <sliceName value="agency_case_history_notes"/>
            <type>
                <code value="Extension"/>
                <profile value="http://hl7.org/fhir/us/mdi/StructureDefinition/Extension-agency-case-history-notes"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.identifier">
            <path value="DiagnosticReport.identifier"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="type"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <short value="Identifiers for diagnostic report."/>
            <definition value="Identifiers for diagnostic report."/>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.identifier:tox_case_number">
            <path value="DiagnosticReport.identifier"/>
            <sliceName value="tox_case_number"/>
            <short value="Case number assigned by toxicology lab."/>
            <definition value="Case number assigned by toxicology lab."/>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.identifier:tox_case_number.type">
            <path value="DiagnosticReport.identifier.type"/>
            <min value="1"/>
            <patternCodeableConcept>
                <coding>
                    <system value="http://hl7.org/fhir/us/mdi/CodeSystem/CodeSystem-mdi-codes"/>
                    <code value="tox-lab-case-number"/>
                </coding>
            </patternCodeableConcept>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.identifier:tox_case_number.system">
            <path value="DiagnosticReport.identifier.system"/>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.identifier:tox_case_number.value">
            <path value="DiagnosticReport.identifier.value"/>
            <min value="1"/>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.subject">
            <path value="DiagnosticReport.subject"/>
            <short value="The subject of the diagnostic report is the decedent."/>
            <definition value="The subject of the diagnostic report is the decedent."/>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.performer">
            <path value="DiagnosticReport.performer"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.specimen">
            <path value="DiagnosticReport.specimen"/>
            <short value="The specimen sent by a Medical Examiner, Coroner, or autopsy performer to the toxicology lab for analysis."/>
            <definition value="The specimen sent by a Medical Examiner, Coroner, or autopsy performer to the toxicology lab for analysis."/>
            <max value="*"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="https://fhir.org/fhir/us/mdi/StructureDefinition/Specimen-toxicology-lab"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.result">
            <path value="DiagnosticReport.result"/>
            <short value="The toxicology lab analysis results being reported."/>
            <definition value="The toxicology lab analysis results being reported."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="https://fhir.org/fhir/us/mdi/StructureDefinition/Observation-toxicology-lab-result"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="DiagnosticReport.conclusion">
            <path value="DiagnosticReport.conclusion"/>
            <mustSupport value="true"/>
        </element>
    </differential>
</StructureDefinition>